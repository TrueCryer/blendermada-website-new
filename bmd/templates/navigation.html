{% load core_tags %}
{% url 'materials:index' as url_materials %}
{% url 'addon' as url_addon %}
{% url 'about' as url_about %}
{% url 'blog:post_list' as url_blog %}


<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="{% url 'home' %}">Blendermada</a>
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="divider"></li>
                <li class="{% active request url_materials %}"><a href="{{ url_materials }}"><span class="glyphicon glyphicon-search"></span> Browse materials</a></li>
                <li class="{% active request url_addon %}"><a href="{{ url_addon }}"><span class="glyphicon glyphicon-cog"></span> Add-on</a></li>
                <li class="{% active request url_blog %}"><a href="{{ url_blog }}"><span class="glyphicon glyphicon-pencil"></span> Blog</a></li>
                <li class="{% active request url_about %}"><a href="{{ url_about }}"><span class="glyphicon glyphicon-info-sign"></span> About</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                {% if user.is_authenticated %}
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-user"></span> {{ user.username }} <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="{{ user.profile.get_absolute_url }}"><span class="glyphicon glyphicon-eye-open"></span> My profile</a></li>
                        <li><a href="{% url 'account_home' %}"><span class="glyphicon glyphicon-home"></span> Account</a></li>
                        <li><a href="{% url 'favorites:list' %}"><span class="glyphicon glyphicon-star"></span> Favorites</a></li>
                        <li><a href="{% url 'uploads:upload' %}"><span class="glyphicon glyphicon-upload"></span> Upload new material</a></li>
                        <li><a href="{% url 'logout' %}"><span class="glyphicon glyphicon-log-out"></span> Sign out</a></li>
                    </ul>
                </li>
                {% else %}
                <li><a href="{% url 'login' %}"><span class="glyphicon glyphicon-log-in"></span> Sign in</a></li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
